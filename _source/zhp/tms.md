
##TMS 系统

###简介：
&emsp;&emsp;TMS 全称 Transportation Management System，物流管理系统，也可称为配送管理系统，是一种“供应链”下的基于网络的操作软件。它能通过多种方法和其他相关的操作一起提高物流的管理能力；包括管理装运单位，制定发货计划，管理运输模型、基准和费用，维护运输数据，优化运输计划，选择承运人及服务方式，管理第三方物流。

&emsp;&emsp;以上是官方式的介绍，下面是 **基于公司业务** 的 TMS 的介绍：

&emsp;&emsp;由于和物美的合作，我们公司所销售的商品都来源于物美的仓库，所以，商品的配送使用的也是物美的物流系统（因 TMS 系统直接参与到出货，所以后面会对 **出货流程** 进行简单介绍）。但是随着订单量的增加，物美原有的系统并不能满足于我们的需要，我们需要更好的用户体验，需要更高的排线效率和运输效率，更低的运输成本等（这里有必要说一下，我们不是要减少运费的花销，而是要在同样运费的基础上，可以送更多的货，达到最大的收益）。TMS 系统的设计初衷，就是提高调度的工作效率，提升用户的购买体验，降低运输的成本的。


###出货流程

相关名字解释：

	1. 调度：在仓库调派人力、车辆等工作的人；
	2. 中控：负责全厂的数据采集汇总、处理、监控，以达到控制、优化、管理的人员，本流程中的中控负责订单任务的拆分和发派；
	3. 拣货员：负责按照出货任务去将订单所要的货物拣出，并从送到指定位置的人；
	4. QC：质检人员，检查商品数量和质量的人；
	5. 叉车司机：仓库使用托盘盛装货物，所以使用叉车运输，叉车司机就是开着叉车去在仓库内运输货物的人（叉车司机同时也会兼任拣货员的工作）；
	6. 货车司机：运输人员，负责在仓库将需要运送的货物装车，然后送到客户手中；
	7. EWM与OBD，分别为库存管理系统与出货系统，两系统均属于物美SAP中，是内部系统，所以，在了解出货流程中，不需要关注这两个系统的细节，把他们当成物美的系统即可，方便整个流程的贯通；
	8. 货架与阁楼为物美仓库中存储货物的地方；
	9. MP集货位，我们链商之前叫美批，所以美批集货位就是专门给链商用的，集货位，顾名思义，是它的作用是集结货物的区域，拣货员把需要配送的货物拣出后统一放在运单对应的集货位，等待质检员的检查和后续配送；
	10. 月台，货车司机最后装车的地方；


&emsp;&emsp;本流程图为链商与物美合作所拥有的出货流程，图中以操作为主线，描述了在整个出货流程中，各个角色及系统（设备）的业务关系，TMS 由调度人员使用，为给已下的订单排出最优的送货线路，提高调度工作效率，提高装车满载率，节省配送时间，节约运输成本，同时打印发货单，帮助司机装车和客户签收货物，提升用户体验。


###系统结构

按照业务先后顺序，依次为 **线路部分**，**运单部分**，**运输部分**；

&emsp;&emsp;**线路部分**为第一部分，调度将订单根据一定规则，在地图中排成线路（一个运单，同时也是一辆车将要配送的线路），提交，然后物美根据排好的线路生成出货任务，待拣货等一切任务结束后，生成运单；

&emsp;&emsp;**运单部分**为第二部分，生成的运单都在运单模块管理，此处可打印发货单，司机根据发货单验收货物并装车；同时管理人员可以在运单模块管理运输费用；

&emsp;&emsp;**运输部分**为第三部分，司机装车后开始配送，这些司机、车辆、和他们所属的承运商等信息，都在这一模块进行管理，为前两模块的顺利完成提供支持；

*****

###其他相关介绍
&emsp;&emsp;如果对业务有了一定的了解程度之后，需要介入开发，下面的内容也许可以帮助你快速熟悉代码：

1. TMS 的项目代码结构与其他项目的结构基本相同，**common** 目录下存放公共文件，包括公用模板，样式库，组件库等，具体内容可自行查看，这里不做详细说明；其他与**common**同级的目录，分别为一个业务模块，学习时可根据当前需要介入的业务有选择性的挑选进行；

2. 地图组件：在common/ui/map目录下，封装了加载高德地图的组件map.js，使用方式可参考线路规划模块中 map-view 的 initMap() 方法；因该组件所引用的是高德地图，所以相应的方法学习请参考高德地图的 JavaScript API ：http://lbs.amap.com/api/javascript-api/summary/；

3. VPN ：
		因 TMS 的开发需要使用物美的网络，如果使用的是内网IP，则需要使用 VPN 登录，获取 VPN 账号方式为：发送邮件给运维人员，申请VPN账号，同时需要附带 部门，姓名，手机号三个信息；如果使用的是外网IP，则不需要登录VPN；

4. hosts：
		同时因为访问的是物美的网络，所以需要先配置hosts文件，例：

		内网IP配置 ： 192.168.60.59 qa.market-tms.wmdev.lsh123.com

		外网IP配置 ： 115.182.215.159 qa.market-tms.wmdev.lsh123.com


		qa为测试环境名称，配置多个url时，添加将qa替换为相应环境名称的url即可。

5. 登录：当前 TMS 系统通过 MIS 的登录，账号与 MIS 一致，不过一定要在 MIS 中配置完权限才能查看系统内容，只有对应有仓库权限，才能查看内容，测试环境的登录网址为:

```
	qa.market-tms.wmdev.lsh123.com
```

&emsp;&emsp;线上网址：


```
	tms.lsh123.com
```



6.相关开发人员：
   > 前端：赵海鹏，史硕
     后端：贾群飞，谭杨，蔡兴兴，薛华邦
	   产品：郑晗，胡欣
	   测试：邵保东

&emsp;&emsp;如对系统有疑问，可咨询以上相关人员；

-------
